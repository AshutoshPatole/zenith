<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Containers/OpenShift/Workloads/pod_lifecycle" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Pod LifeCycle | Zenith</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ashutoshpatole.github.io/zenith/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ashutoshpatole.github.io/zenith/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ashutoshpatole.github.io/zenith/pod-lifecycle"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Pod LifeCycle | Zenith"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/zenith/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ashutoshpatole.github.io/zenith/pod-lifecycle"><link data-rh="true" rel="alternate" href="https://ashutoshpatole.github.io/zenith/pod-lifecycle" hreflang="en"><link data-rh="true" rel="alternate" href="https://ashutoshpatole.github.io/zenith/pod-lifecycle" hreflang="x-default"><link rel="stylesheet" href="/zenith/assets/css/styles.e7e8a711.css">
<script src="/zenith/assets/js/runtime~main.d19c2558.js" defer="defer"></script>
<script src="/zenith/assets/js/main.85c9707f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/zenith/"><div class="navbar__logo"><img src="/zenith/img/logo.svg" alt="Zenith Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zenith/img/logo.svg" alt="Zenith Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Zenith</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zenith/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zenith/azure-intro">Cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zenith/docker-intro">Containers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zenith/docker-intro">Docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/zenith/frequent-commands">OpenShift</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/frequent-commands">Commands Cheatsheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/common-terms-in-operator">Operator Framework (common terms)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/mcp">Machine Config Pool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/machine-set">Machine Sets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/rhcos">RedHat CoreOS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zenith/what-is-controller">Controllers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zenith/basic-network-understanding">Networking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zenith/mco">Operator</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/zenith/pod-lifecycle">Workloads</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zenith/pod-lifecycle">Pod LifeCycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/deployments">Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/replicasets">ReplicaSets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/daemonset">DaemonSets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/init-container">Init Containers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/job">Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zenith/cron-job">CronJobs</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zenith/linux-intro">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zenith/certs">Security</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/zenith/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Containers</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">OpenShift</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Workloads</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Pod LifeCycle</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pod LifeCycle</h1></header><hr>
<p>Pods follow a defined lifecycle, starting in the <code>Pending</code> phase, moving through Running if at least one of its primary containers starts OK, and then through either the <code>Succeeded</code> or <code>Failed</code> phases depending on whether any container in the Pod terminated in failure.</p>
<p>Whilst a Pod is running, the kubelet is able to restart containers to handle some kind of faults. Within a Pod, Kubernetes tracks different container states and determines what action to take to make the Pod healthy again.</p>
<p>Pods are only scheduled once in their lifetime. Once a Pod is scheduled (assigned) to a Node, the Pod runs on that Node until it stops or is terminated.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-lifetime">Pod lifetime<a href="#pod-lifetime" class="hash-link" aria-label="Direct link to Pod lifetime" title="Direct link to Pod lifetime">​</a></h3>
<ul>
<li>
<p>Like individual application containers, Pods are considered to be relatively ephemeral (rather than durable) entities. Pods are created, assigned a unique ID (UID), and scheduled to nodes where they remain until termination (according to restart policy) or deletion. If a Node dies, the Pods scheduled to that node are scheduled for deletion after a timeout period.</p>
</li>
<li>
<p>Pods do not, by themselves, self-heal. If a Pod is scheduled to a node that then fails, the Pod is deleted; likewise, a Pod won&#x27;t survive an eviction due to a lack of resources or Node maintenance. Kubernetes uses a higher-level abstraction, called a controller, that handles the work of managing the relatively disposable Pod instances.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>A given Pod (as defined by a UID) is never &quot;rescheduled&quot; to a different node; instead, that Pod can be replaced by a new, near-identical Pod, with even the same name if desired, but with a different UID.</p></div></div>
<ul>
<li>When something is said to have the same lifetime as a Pod, such as a volume, that means that the thing exists as long as that specific Pod (with that exact UID) exists. If that Pod is deleted for any reason, and even if an identical replacement is created, the related thing (a volume, in this example) is also destroyed and created anew.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-phase">Pod phase<a href="#pod-phase" class="hash-link" aria-label="Direct link to Pod phase" title="Direct link to Pod phase">​</a></h3>
<table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code>Pending</code></td><td>The Pod has been accepted by the Kubernetes cluster, but one or more of the containers has not been set up and made ready to run. This includes time a Pod spends waiting to be scheduled as well as the time spent downloading container images over the network.</td></tr><tr><td><code>Running</code></td><td>The Pod has been bound to a node, and all of the containers have been created. At least one container is still running, or is in the process of starting or restarting.</td></tr><tr><td><code>Succeeded</code></td><td>All containers in the Pod have terminated in success, and will not be restarted.</td></tr><tr><td><code>Failed</code></td><td>All containers in the Pod have terminated, and at least one container has terminated in failure. That is, the container either exited with non-zero status or was terminated by the system.</td></tr><tr><td><code>Unknown</code></td><td>For some reason the state of the Pod could not be obtained. This phase typically occurs due to an error in communicating with the node where the Pod should be running.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When a Pod is being deleted, it is shown as Terminating by some kubectl commands. This Terminating status is not one of the Pod phases. A Pod is granted a term to terminate gracefully, which defaults to 30 seconds. You can use the flag --force to terminate a Pod by force.</p></div></div>
<blockquote>
<p>If a node dies or is disconnected from the rest of the cluster, Kubernetes applies a policy for setting the phase of all Pods on the lost node to <code>Failed</code>.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-states">Container states<a href="#container-states" class="hash-link" aria-label="Direct link to Container states" title="Direct link to Container states">​</a></h3>
<p>Once the scheduler assigns a Pod to a Node, the kubelet starts creating containers for that Pod using a container runtime. There are three possible container states: Waiting, Running, and Terminated.</p>
<p>To check the state of a Pod&#x27;s containers, you can use</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pod pod-name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output shows the state for each container within that Pod.</p>
<p>Each state has a specific meaning:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="waiting">Waiting<a href="#waiting" class="hash-link" aria-label="Direct link to Waiting" title="Direct link to Waiting">​</a></h4>
<p>If a container is not in either the Running or Terminated state, it is Waiting. A container in the Waiting state is still running the operations it requires in order to complete start up: for example, pulling the container image from a container image registry, or applying Secret data.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="running">Running<a href="#running" class="hash-link" aria-label="Direct link to Running" title="Direct link to Running">​</a></h4>
<p>The Running status indicates that a container is executing without issues. If there was a postStart hook configured, it has already executed and finished.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="terminated">Terminated<a href="#terminated" class="hash-link" aria-label="Direct link to Terminated" title="Direct link to Terminated">​</a></h4>
<p>A container in the Terminated state began execution and then either ran to completion or failed for some reason.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>When you use <code>kubectl</code> to query a Pod with a container that is  Waiting/Running/Terminated , you also see a Reason field to summarize why the container is in that state.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-restart-policy">Container restart policy<a href="#container-restart-policy" class="hash-link" aria-label="Direct link to Container restart policy" title="Direct link to Container restart policy">​</a></h3>
<p>The spec of a Pod has a <code>restartPolicy</code> field with possible values</p>
<ul>
<li>Always</li>
<li>OnFailure</li>
<li>Never
The default value is <strong>Always</strong>.</li>
</ul>
<p>The <code>restartPolicy</code> applies to all containers in the Pod. <code>restartPolicy</code> only refers to restarts of the containers by the kubelet on the same node. After containers in a Pod exit, the kubelet restarts them with an exponential back-off delay (10s, 20s, 40s, …), that is <strong>capped at five minutes</strong>. Once a container has executed for 10 minutes without any problems, the kubelet resets the restart backoff timer for that container.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-conditions">Pod conditions<a href="#pod-conditions" class="hash-link" aria-label="Direct link to Pod conditions" title="Direct link to Pod conditions">​</a></h3>
<p>A Pod has a PodStatus, which has an array of PodConditions through which the Pod has or has not passed:</p>
<ul>
<li><code>PodScheduled</code>: the Pod has been scheduled to a node.</li>
<li><code>ContainersReady</code>: all containers in the Pod are ready.</li>
<li><code>Initialized</code>: all init containers have completed successfully.</li>
<li><code>Ready</code>: the Pod is able to serve requests and should be added to the load balancing pools of all matching Services.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-probes">Container probes<a href="#container-probes" class="hash-link" aria-label="Direct link to Container probes" title="Direct link to Container probes">​</a></h3>
<p>A probe is a diagnostic performed periodically by the kubelet on a container. To perform a diagnostic, the kubelet either executes code within the container, or makes a network request.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-mechanisms">Check mechanisms<a href="#check-mechanisms" class="hash-link" aria-label="Direct link to Check mechanisms" title="Direct link to Check mechanisms">​</a></h4>
<p>There are four different ways to check a container using a probe. Each probe must define exactly one of these four mechanisms:</p>
<p>=&gt; exec</p>
<p>Executes a specified command inside the container. The diagnostic is considered successful if the command exits with a status code of 0.</p>
<p>=&gt; grpc</p>
<p>Performs a remote procedure call using gRPC. The target should implement gRPC health checks. The diagnostic is considered successful if the status of the response is SERVING.
gRPC probes are an alpha feature and are only available if you enable the GRPCContainerProbe feature gate.</p>
<p>=&gt; httpGet</p>
<p>Performs an HTTP GET request against the Pod&#x27;s IP address on a specified port and path. The diagnostic is considered successful if the response has a status code greater than or equal to 200 and less than 400.</p>
<p>=&gt; tcpSocket</p>
<p>Performs a TCP check against the Pod&#x27;s IP address on a specified port. The diagnostic is considered successful if the port is open. If the remote system (the container) closes the connection immediately after it opens, this counts as healthy.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="probe-outcome">Probe outcome<a href="#probe-outcome" class="hash-link" aria-label="Direct link to Probe outcome" title="Direct link to Probe outcome">​</a></h3>
<p>Each probe has one of three results:</p>
<ul>
<li>
<p>Success :
The container passed the diagnostic.</p>
</li>
<li>
<p>Failure :
The container failed the diagnostic.</p>
</li>
<li>
<p>Unknown :
The diagnostic failed (no action should be taken, and the kubelet will make further checks).</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-probe">Types of probe<a href="#types-of-probe" class="hash-link" aria-label="Direct link to Types of probe" title="Direct link to Types of probe">​</a></h3>
<p>The kubelet can optionally perform and react to three kinds of probes on running containers:</p>
<ul>
<li>
<p><strong>livenessProbe</strong>
Indicates whether the container is running. If the liveness probe fails, the kubelet kills the container, and the container is subjected to its <a href="#container-restart-policy">restart</a> policy. If a container does not provide a liveness probe, the default state is Success.</p>
</li>
<li>
<p><strong>readinessProbe</strong>
Indicates whether the container is ready to respond to requests. If the readiness probe fails, the endpoints controller removes the Pod&#x27;s IP address from the endpoints of all Services that match the Pod. The default state of readiness before the initial delay is Failure. If a container does not provide a readiness probe, the default state is Success.</p>
</li>
<li>
<p><strong>startupProbe</strong>
Indicates whether the application within the container is started. All other probes are disabled if a startup probe is provided, until it succeeds. If the startup probe fails, the kubelet kills the container, and the container is subjected to its <a href="#container-restart-policy">restart</a> policy. If a container does not provide a startup probe, the default state is Success.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="termination-of-pods">Termination of Pods<a href="#termination-of-pods" class="hash-link" aria-label="Direct link to Termination of Pods" title="Direct link to Termination of Pods">​</a></h3>
<p>Because Pods represent processes running on nodes in the cluster, it is important to allow those processes to gracefully terminate when they are no longer needed (rather than being abruptly stopped with a <code>KILL</code> signal and having no chance to clean up).</p>
<p>The design aim is for you to be able to request deletion and know when processes terminate, but also be able to ensure that deletes eventually complete. When you request deletion of a Pod, the cluster records and tracks the intended grace period before the Pod is allowed to be forcefully killed. With that forceful shutdown tracking in place, the kubelet attempts graceful shutdown.</p>
<p>Typically, the container runtime sends a TERM signal to the main process in each container. Many container runtimes respect the <code>STOPSIGNAL</code> value defined in the container image and send this instead of TERM. Once the grace period has expired, the <code>KILL</code> signal is sent to any remaining processes, and the Pod is then deleted from the API Server. If the kubelet or the container runtime&#x27;s management service is restarted while waiting for processes to terminate, the cluster retries from the start including the full original grace period.</p>
<blockquote>
<p>You use the <code>kubectl</code> tool to manually delete a specific Pod, with the default grace period (30 seconds).</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forced-pod-termination">Forced Pod termination<a href="#forced-pod-termination" class="hash-link" aria-label="Direct link to Forced Pod termination" title="Direct link to Forced Pod termination">​</a></h3>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Forced deletions can be potentially disruptive for some workloads and their Pods.</p></div></div>
<p>By default, all deletes are graceful within 30 seconds. The kubectl delete command supports the <code>--grace-period=&lt;seconds&gt;</code> option which allows you to override the default and specify your own value.</p>
<p>Setting the grace period to 0 forcibly and immediately deletes the Pod from the API server. If the pod was still running on a node, that forcible deletion triggers the kubelet to begin immediate cleanup.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You must specify an additional flag <code>--force</code> along with <code>--grace-period=0</code> in order to perform force deletions.</p></div></div>
<p>When a force deletion is performed, the API server does not wait for confirmation from the kubelet that the Pod has been terminated on the node it was running on. It removes the Pod in the API immediately so a new Pod can be created with the same name. On the node, Pods that are set to terminate immediately will still be given a small grace period before being force killed.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-01T11:50:54.000Z">Feb 1, 2024</time></b> by <b>AshutoshPatole18</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/zenith/operators-in-openshift-network"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Operators in Openshift Network</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zenith/deployments"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pod-lifetime" class="table-of-contents__link toc-highlight">Pod lifetime</a></li><li><a href="#pod-phase" class="table-of-contents__link toc-highlight">Pod phase</a></li><li><a href="#container-states" class="table-of-contents__link toc-highlight">Container states</a></li><li><a href="#container-restart-policy" class="table-of-contents__link toc-highlight">Container restart policy</a></li><li><a href="#pod-conditions" class="table-of-contents__link toc-highlight">Pod conditions</a></li><li><a href="#container-probes" class="table-of-contents__link toc-highlight">Container probes</a></li><li><a href="#probe-outcome" class="table-of-contents__link toc-highlight">Probe outcome</a></li><li><a href="#types-of-probe" class="table-of-contents__link toc-highlight">Types of probe</a></li><li><a href="#termination-of-pods" class="table-of-contents__link toc-highlight">Termination of Pods</a></li><li><a href="#forced-pod-termination" class="table-of-contents__link toc-highlight">Forced Pod termination</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>