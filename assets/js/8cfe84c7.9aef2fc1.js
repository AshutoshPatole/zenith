"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9706],{9265:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=t(5893),r=t(1151);const a={sidebar_position:3,sidebar_label:"Parameter Expansion",slug:"/parameter-expansion",author:"Ashutosh Patole",tags:["script"]},i=void 0,o={id:"Linux/Script/parameter_expansion",title:"parameter_expansion",description:"---",source:"@site/docs/Linux/Script/5_parameter_expansion.mdx",sourceDirName:"Linux/Script",slug:"/parameter-expansion",permalink:"/zenith/parameter-expansion",draft:!1,unlisted:!1,tags:[{label:"script",permalink:"/zenith/tags/script"}],version:"current",lastUpdatedBy:"AshutoshPatole18",lastUpdatedAt:1706787778,formattedLastUpdatedAt:"Feb 1, 2024",sidebarPosition:3,frontMatter:{sidebar_position:3,sidebar_label:"Parameter Expansion",slug:"/parameter-expansion",author:"Ashutosh Patole",tags:["script"]},sidebar:"tutorialSidebar",previous:{title:"Strict Mode in Shell Scripts",permalink:"/zenith/strict-mode"},next:{title:"Brace Expansions",permalink:"/zenith/brace-expansion"}},l={},c=[{value:"Simple Use",id:"simple-use",level:2},{value:"Finding length of the variable value",id:"finding-length-of-the-variable-value",level:2},{value:"Case modification",id:"case-modification",level:2},{value:"Convert first letter to upper case ^",id:"convert-first-letter-to-upper-case-",level:3},{value:"Convert first letter to lower case ,",id:"convert-first-letter-to-lower-case-",level:3},{value:"Convert all letter to upper case ^^",id:"convert-all-letter-to-upper-case-",level:3},{value:"Convert all letter to lower case ,,",id:"convert-all-letter-to-lower-case-",level:3},{value:"Search and Replace",id:"search-and-replace",level:2},{value:"Slicing a String",id:"slicing-a-string",level:2},{value:"Default values",id:"default-values",level:2},{value:"Use a default value",id:"use-a-default-value",level:3},{value:"Assign a default value",id:"assign-a-default-value",level:3}];function h(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"We often use $ everywhere in our scripts just to extract values from  a variable like"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ echo $USER\nthor\n"})}),"\n",(0,s.jsxs)(n.p,{children:["but it can be more than just this. Everything you pass to the $ is called a ",(0,s.jsx)(n.code,{children:"parameter"})," and we can expand it with many ways like"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Converting to upper case"}),"\n",(0,s.jsx)(n.li,{children:"Converting to lower case"}),"\n",(0,s.jsx)(n.li,{children:"Slicing the string"}),"\n",(0,s.jsx)(n.li,{children:"Remove specific parts from parameter value"}),"\n",(0,s.jsx)(n.li,{children:"Search and Replace"}),"\n",(0,s.jsx)(n.li,{children:"Finding length of the string"}),"\n",(0,s.jsx)(n.li,{children:"Assigning default values\nand so on and on."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["These many things are possible with ",(0,s.jsx)(n.code,{children:"${}"})," but we use it for just one purpose most of the time."]}),"\n",(0,s.jsx)(n.h2,{id:"simple-use",children:"Simple Use"}),"\n",(0,s.jsxs)(n.p,{children:["The easiest way of using parameter name as we did in above snippet ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"$USER"})})," but using it with braces (",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${USER}"})}),") has one advantage, it can be immediately followed by characters that would be interpreted as part of the parameter name otherwise."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'[thor@marvel-studios ~]$ who="student"\n[thor@marvel-studios ~]$ echo "$whos are playing in the garden"\n are playing in the garden\n[thor@marvel-studios ~]$ echo "${who}s are playing in the garden"\nstudents are playing in the garden\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Also you have to use $"," for ",(0,s.jsx)(n.strong,{children:"positional arguments > $9"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="param_expansion.sh"',children:"[thor@marvel-studios ~]$ cat param_expansion.sh \n#!/bin/bash\n\necho $1\necho $2\necho $3\necho $4 \necho $5\necho $6\necho $7\necho $8\necho $9\necho $10\necho $11\n\n[thor@marvel-studios ~]$ ./param_expansion.sh one 2 three four 5 6 seven 8 9 ten eleven\none\n2\nthree\nfour\n5\n6\nseven\n8\n9\none0      # $10 is interpreted as $1 => one and 0 => one0\none1      # same for $11 => one1\n"})}),"\n",(0,s.jsx)(n.p,{children:"Change the 10th and 11th line in param_expansion.sh file"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo ${10}\necho ${11}\n"})}),"\n",(0,s.jsx)(n.p,{children:"and now it works as expected"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ ./param_expansion.sh one 2 three four 5 6 seven 8 9 ten eleven\none\n2\nthree\nfour\n5\n6\nseven\n8\n9\nten\neleven\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["$"," is parameter expansion and $() is ",(0,s.jsx)(n.strong,{children:"command substitution"}),". Both are entirely _different"]})]}),"\n",(0,s.jsx)(n.h2,{id:"finding-length-of-the-variable-value",children:"Finding length of the variable value"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'[thor@marvel-studios ~]$ who="thor"\n[thor@marvel-studios ~]$ echo ${#who}\n4    # t h o r\n'})}),"\n",(0,s.jsx)(n.h2,{id:"case-modification",children:"Case modification"}),"\n",(0,s.jsx)(n.h3,{id:"convert-first-letter-to-upper-case-",children:"Convert first letter to upper case ^"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'[thor@marvel-studios ~]$ who="thor"\n[thor@marvel-studios ~]$ echo ${who}\nthor\n[thor@marvel-studios ~]$ echo ${who^}\nThor\n'})}),"\n",(0,s.jsx)(n.h3,{id:"convert-first-letter-to-lower-case-",children:"Convert first letter to lower case ,"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'[thor@marvel-studios ~]$ who="THOR"\n[thor@marvel-studios ~]$ echo ${who}\nTHOR\n[thor@marvel-studios ~]$ echo ${who,}\ntHOR\n'})}),"\n",(0,s.jsx)(n.h3,{id:"convert-all-letter-to-upper-case-",children:"Convert all letter to upper case ^^"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'[thor@marvel-studios ~]$ who="thor"\n[thor@marvel-studios ~]$ echo ${who}\nthor\n[thor@marvel-studios ~]$ echo ${who^^}\nTHOR\n'})}),"\n",(0,s.jsx)(n.h3,{id:"convert-all-letter-to-lower-case-",children:"Convert all letter to lower case ,,"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'[thor@marvel-studios ~]$ who="THOR"\n[thor@marvel-studios ~]$ echo ${who}\nTHOR\n[thor@marvel-studios ~]$ echo ${who,,}\nthor\n'})}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"A small script to change all files in current directory to lower case letters."})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\nfor i in $(ls); do\n        echo "Converting ${i} -> ${i,,}"\n        mv ${i} ${i,,}\ndone\n'})}),"\n",(0,s.jsx)(n.p,{children:"This script will throw warnings saying that files are similar if they are already lower case named. So tweak it."}),"\n",(0,s.jsx)(n.h2,{id:"search-and-replace",children:"Search and Replace"}),"\n",(0,s.jsx)(n.p,{children:"Consider String as a parameter now which contains.."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'String="I am writing scripts. I am going to ececute it."\n'})}),"\n",(0,s.jsxs)(n.p,{children:["To replace a word ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"{parameter/pattern/replaceString}"})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ echo ${String/I/You}\nYou am writing scripts. I am going to ececute it.\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This only replaces the first occurenece. If you want to replace all occurences ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"{parameter//pattern/replaceString}"})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ echo ${String//I/You}\nYou am writing scripts. You am going to ececute it.\n"})}),"\n",(0,s.jsx)(n.h2,{id:"slicing-a-string",children:"Slicing a String"}),"\n",(0,s.jsxs)(n.p,{children:["Syntax ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"{String:OffsetNumber}"})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ echo $String\nI am writing scripts. I am going to ececute it.\n[thor@marvel-studios ~]$ echo ${String:15}\nripts. I am going to ececute it.\n[thor@marvel-studios ~]$ echo ${String:10}\nng scripts. I am going to ececute it.\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can also use length along with offset number\n",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"{String:OffsetNumber:length}"})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ echo $String\nI am writing scripts. I am going to ececute it.\n[thor@marvel-studios ~]$ echo ${String:10:5}\nng sc\n[thor@marvel-studios ~]$ echo ${String:10:8}\nng scrip\n[thor@marvel-studios ~]$ echo ${String:15:10}\nripts. I a\n"})}),"\n",(0,s.jsx)(n.h2,{id:"default-values",children:"Default values"}),"\n",(0,s.jsx)(n.h3,{id:"use-a-default-value",children:"Use a default value"}),"\n",(0,s.jsx)(n.p,{children:"Syntax"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${Parameter:-Default}"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${Parameter-Default}"})})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If the Parameter is ",(0,s.jsx)(n.strong,{children:"unset"})," (never was defined) or ",(0,s.jsx)(n.strong,{children:"null"})," (empty), this one expands to Default, otherwise it expands to the value of Parameter, as if it just was ",(0,s.jsx)(n.code,{children:"${Parameter}"}),". If you ",(0,s.jsx)(n.strong,{children:"omit the :"})," (colon), like shown in the second form, the default value is only used when the Parameter was ",(0,s.jsx)(n.strong,{children:"unset"}),", not when it was empty."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'echo "Your home directory is: ${HOME:-/home/$USER}."\necho "${HOME:-/home/$USER} will be used to store your personal data."\n'})}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"If HOME is unset or empty, everytime you want to print something useful, you need to put that parameter syntax in."})]}),"\n",(0,s.jsx)(n.h3,{id:"assign-a-default-value",children:"Assign a default value"}),"\n",(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["Assign and Use of default values is entirely different. Read them carefully (",(0,s.jsx)(n.strong,{children:"-"})," not equal to ",(0,s.jsx)(n.strong,{children:"="}),")."]})]}),"\n",(0,s.jsx)(n.p,{children:"Syntax"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${Parameter:=Default}"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"${Parameter=Default}"})})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This one works like the using default values, but the default text you give is not only expanded, but also assigned to the parameter, if it was ",(0,s.jsx)(n.strong,{children:"unset or null"}),". Equivalent to using a default value, when you omit the : (colon), as shown in the second form, the default value will only be assigned when the parameter was ",(0,s.jsx)(n.strong,{children:"unset"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'echo "Your home directory is: ${HOME:=/home/$USER}."\necho "$HOME will be used to store your personal data."\n'})}),"\n",(0,s.jsxs)(n.p,{children:["After the first expansion on line 1 ",(0,s.jsx)(n.code,{children:"${HOME:=/home/$USER}"}),", HOME is ",(0,s.jsx)(n.strong,{children:"set and usable"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>i});var s=t(7294);const r={},a=s.createContext(r);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);