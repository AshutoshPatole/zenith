"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8691],{9400:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>u});var n=s(5893),o=s(1151);const i={slug:"/dumpe2fs",tags:["filesystem","linux"]},a=void 0,r={id:"Linux/Commands/Obtaining FileSystem Information",title:"Obtaining FileSystem Information",description:"---",source:"@site/docs/Linux/Commands/Obtaining FileSystem Information.mdx",sourceDirName:"Linux/Commands",slug:"/dumpe2fs",permalink:"/zenith/dumpe2fs",draft:!1,unlisted:!1,tags:[{label:"filesystem",permalink:"/zenith/tags/filesystem"},{label:"linux",permalink:"/zenith/tags/linux"}],version:"current",lastUpdatedBy:"AshutoshPatole18",lastUpdatedAt:1706787778,formattedLastUpdatedAt:"Feb 1, 2024",frontMatter:{slug:"/dumpe2fs",tags:["filesystem","linux"]},sidebar:"tutorialSidebar",previous:{title:"Cut",permalink:"/zenith/cut"},next:{title:"SSH Key generation",permalink:"/zenith/ssh-key-generation"}},l={},u=[];function c(e){const t={admonition:"admonition",code:"code",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"You can learn a lot about your ext2 or ext3 filesystem with the dumpe2fs command. This command\u2019s syntax is fairly straightforward:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ dumpe2fs [options] device\n"})}),"\n",(0,n.jsx)(t.p,{children:"device is the filesystem device file, such as /dev/sdb3. This command accepts several options (signified by options), most of which are rather obscure. The most important option is probably -h, which causes the utility to omit information about group descriptors. (This information is helpful in very advanced filesystem debugging but not for basic filesystem tuning.) Unless you\u2019re a filesystem expert and need to debug a corrupted filesystem, you\u2019ll most likely to want to use dumpe2fs with the -h option. The result is about three-dozen lines of output, each specifying a particular filesystem option, like these:"}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["Use ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"man dumpe2fs"})})," for more options."]})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Last mounted on: <not available>\nFilesystem features: has_journal filetype sparse_super\nFilesystem state: clean\nInode count: 657312\nBlock count: 1313305\nLast checked: Wed Feb 02 17:18:23 2022\nCheck interval: 15552000 (6 months)\n"})}),"\n",(0,n.jsx)(t.p,{children:"Some of these options meanings are fairly self-explanatory; for instance, the filesystem was last checked on February 2, 2022. Other options aren\u2019t so obvious; for instance, the Inode count line may be puzzling. (It\u2019s a count of the number of inodes supported by the filesystem. Each inode contains information for one file, so the number of inodes effectively limits the number of files you can store.) The next two sections describe some of the options that you may want to change. For now, you should know that you could retrieve information about how your filesystems are currently configured using dumpe2fs. You can then use this information when modifying the configuration; if your current settings seem reasonable, you can leave them alone, but if they seem it will adapted to your configuration, you can change them. Unlike many low-level disk utilities, dumpe2fs can be safely run on a filesystem that\u2019s currently mounted. This can be handy when you\u2019re studying your configuration to decide what to modify."}),"\n",(0,n.jsx)(t.p,{children:"Most other filesystems lack an equivalent to dumpe2fs, but XFS provides something with at least some surface similarities: xfs_info. To invoke it, pass the command the name of the partition that holds the filesystem that you want to check:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"[thor@marvel-studios ~]$ xfs_info /dev/sda3\nmeta-data=/dev/sda3 isize=256 agcount=88, agsize=1032192 blks\n= sectsz=512 attr=0\ndata = bsize=4096 blocks=89915392, imaxpct=25 = sunit=0 swidth=0 blks, unwritten=1\nnaming =version 2 bsize=4096\nlog =internal bsize=4096 blocks=8064, version=1 = sectsz=512 sunit=0 blks\nrealtime =none extsz=65536 blocks=0, rtextents=0\n"})}),"\n",(0,n.jsx)(t.p,{children:"Instead of the partition name, you can pass the mount point, such as /home or /usr/ local. Unlike most filesystem tools, xfs_info requires that the filesystem be mounted. The information returned by xfs_info is fairly technical, mostly related to block sizes, sector sizes, and so on."}),"\n",(0,n.jsx)(t.p,{children:"Another XFS tool is xfs_metadump. This program copies the filesystem\u2019s metadata (filenames, file sizes, and so on) to a file. For instance, xfs_metadump /dev/sda3 ~/dumpfile copies the metadata to ~/dump-file. This command doesn\u2019t copy actual file contents and so isn\u2019t useful as a backup tool. Instead, it\u2019s intended as a debugging tool; if the filesystem is behaving strangely."})]})}function d(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>r,a:()=>a});var n=s(7294);const o={},i=n.createContext(o);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);