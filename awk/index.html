<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Linux/Commands/AWK" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">AWK | Zenith</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ashutoshpatole.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ashutoshpatole.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ashutoshpatole.github.io/awk"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AWK | Zenith"><meta data-rh="true" name="description" content="AWK (awk) is a domain-specific language designed for text processing and typically used as a data extraction and reporting tool. Similar to the Sed and Grep commands, it is a filter, and is a standard feature of most Unix-like operating systems, like [[command]]."><meta data-rh="true" property="og:description" content="AWK (awk) is a domain-specific language designed for text processing and typically used as a data extraction and reporting tool. Similar to the Sed and Grep commands, it is a filter, and is a standard feature of most Unix-like operating systems, like [[command]]."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ashutoshpatole.github.io/awk"><link data-rh="true" rel="alternate" href="https://ashutoshpatole.github.io/awk" hreflang="en"><link data-rh="true" rel="alternate" href="https://ashutoshpatole.github.io/awk" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e7e8a711.css">
<script src="/assets/js/runtime~main.17961040.js" defer="defer"></script>
<script src="/assets/js/main.7b9ed486.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Zenith Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Zenith Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Zenith</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/azure-intro">Cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docker-intro">Containers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/linux-intro">Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux-intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/awk">Commands</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/awk">AWK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/fg-and-bg">Foreground and Background jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kill">Kill Signals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/parameter-expansion">Parameter Expansion</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/certs">Security</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Linux</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Commands</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">AWK</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>AWK</h1>
<p>AWK (awk) is a domain-specific language designed for text processing and typically used as a data extraction and reporting tool. Similar to the Sed and Grep commands, it is a filter, and is a standard feature of most Unix-like operating systems, like [[command]].</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unixlinux">Unix/Linux<a href="#unixlinux" class="hash-link" aria-label="Direct link to Unix/Linux" title="Direct link to Unix/Linux">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">awk &#x27;/pattern/ {print &quot;$1&quot;}&#x27;    # standard Unix shells</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="win">Win<a href="#win" class="hash-link" aria-label="Direct link to Win" title="Direct link to Win">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">awk &quot;/pattern/ {print \&quot;$1\&quot;}&quot;  # GnuWin32, UnxUtils, Mingw</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that the DJGPP compilation (for DOS or Windows-32) permits an awk
script to follow Unix quoting syntax <code>&#x27;/like/ {&quot;this&quot;}&#x27;</code>. HOWEVER, if the
command interpreter is <code>CMD.EXE</code> or <code>COMMAND.COM</code>, single quotes will not
protect the redirection arrows <code>(&lt;, &gt;)</code> nor do they protect pipes <code>(|)</code>.
These are special symbols which require &quot;double quotes&quot; to protect them
from interpretation as operating system directives. If the command
interpreter is bash, ksh, zsh or another Unix shell, then single and double
quotes will follow the standard Unix usage.</p>
<p>Users of MS-DOS or Microsoft Windows must remember that the percent
sign <code>(%)</code> is used to indicate environment variables, so this symbol must
be doubled <code>(%%)</code> to yield a single percent sign visible to awk.</p>
<p>To conserve space, use <code>&#x27;1&#x27;</code> instead of <code>&#x27;{print}&#x27;</code> to print each line.
Either one will work.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handy-one-line-awk-scripts">Handy one-line Awk scripts<a href="#handy-one-line-awk-scripts" class="hash-link" aria-label="Direct link to Handy one-line Awk scripts" title="Direct link to Handy one-line Awk scripts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-spacing">File Spacing<a href="#file-spacing" class="hash-link" aria-label="Direct link to File Spacing" title="Direct link to File Spacing">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # double space a file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;1;{print &quot;&quot;}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;BEGIN{ORS=&quot;\n\n&quot;};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # double space a file which already has blank lines in it. Output file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # should contain no more than one blank line between lines of text.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # NOTE: On Unix systems, DOS lines which have only CRLF (\r\n) are</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # often treated as non-blank, and thus &#x27;NF&#x27; alone will return TRUE.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NF{print $0 &quot;\n&quot;}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # triple space a file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;1;{print &quot;\n&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="numbering-and-calculations">Numbering and Calculations<a href="#numbering-and-calculations" class="hash-link" aria-label="Direct link to Numbering and Calculations" title="Direct link to Numbering and Calculations">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # precede each line by its line number FOR THAT FILE (left alignment).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Using a tab (\t) instead of space will preserve margins.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{print FNR &quot;\t&quot; $0}&#x27; files*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # precede each line by its line number FOR ALL FILES TOGETHER, with tab.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{print NR &quot;\t&quot; $0}&#x27; files*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # number each line of a file (number on left, right-aligned)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Double the percent signs if typing from the DOS command prompt.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{printf(&quot;%5d : %s\n&quot;, NR,$0)}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # number each line of file, but only print numbers if line is not blank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Remember caveats about Unix treatment of \r (mentioned above)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NF{$0=++a &quot; :&quot; $0};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{print (NF? ++a &quot; :&quot; :&quot;&quot;) $0}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # count lines (emulates &quot;wc -l&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;END{print NR}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the sums of the fields of every line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{s=0; for (i=1; i&lt;=NF; i++) s=s+$i; print s}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # add all fields in all lines and print the sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{for (i=1; i&lt;=NF; i++) s=s+$i}; END{print s}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print every line after replacing each field with its absolute value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{for (i=1; i&lt;=NF; i++) if ($i &lt; 0) $i = -$i; print }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{for (i=1; i&lt;=NF; i++) $i = ($i &lt; 0) ? -$i : $i; print }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the total number of fields (&quot;words&quot;) in all lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{ total = total + NF }; END {print total}&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the total number of lines that contain &quot;Beth&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/Beth/{n++}; END {print n+0}&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the largest first field and the line that contains it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Intended for finding the longest string in field #1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;$1 &gt; max {max=$1; maxline=$0}; END{ print max, maxline}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the number of fields in each line, followed by the line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{ print NF &quot;:&quot; $0 } &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the last field of each line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{ print $NF }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the last field of the last line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{ field = $NF }; END{ print field }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print every line with more than 4 fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NF &gt; 4&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print every line where the value of the last field is &gt; 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;$NF &gt; 4&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-creation">String Creation<a href="#string-creation" class="hash-link" aria-label="Direct link to String Creation" title="Direct link to String Creation">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # create a string of a specific length (e.g., generate 513 spaces)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;BEGIN{while (a++&lt;513) s=s &quot; &quot;; print s}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # insert a string of specific length at a certain character position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Example: insert 49 spaces after column #6 of each input line.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> gawk --re-interval &#x27;BEGIN{while(a++&lt;49)s=s &quot; &quot;};{sub(/^.{6}/,&quot;&amp;&quot; s)};1&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="array-creation">Array Creation<a href="#array-creation" class="hash-link" aria-label="Direct link to Array Creation" title="Direct link to Array Creation">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # These next 2 entries are not one-line scripts, but the technique</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # is so handy that it merits inclusion here.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # create an array named &quot;month&quot;, indexed by numbers, so that month[1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # is &#x27;Jan&#x27;, month[2] is &#x27;Feb&#x27;, month[3] is &#x27;Mar&#x27; and so on.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> split(&quot;Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec&quot;, month, &quot; &quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # create an array named &quot;mdigit&quot;, indexed by strings, so that</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # mdigit[&quot;Jan&quot;] is 1, mdigit[&quot;Feb&quot;] is 2, etc. Requires &quot;month&quot; array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> for (i=1; i&lt;=12; i++) mdigit[month[i]] = i</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="text-conversion-and-substitution">Text Conversion and Substitution<a href="#text-conversion-and-substitution" class="hash-link" aria-label="Direct link to Text Conversion and Substitution" title="Direct link to Text Conversion and Substitution">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # IN UNIX ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{sub(/\r$/,&quot;&quot;)};1&#x27;   # assumes EACH line ends with Ctrl-M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # IN UNIX ENVIRONMENT: convert Unix newlines (LF) to DOS format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{sub(/$/,&quot;\r&quot;)};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # IN DOS ENVIRONMENT: convert Unix newlines (LF) to DOS format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # IN DOS ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Cannot be done with DOS versions of awk, other than gawk:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> gawk -v BINMODE=&quot;w&quot; &#x27;1&#x27; infile &gt;outfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # Use &quot;tr&quot; instead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> tr -d \r &lt;infile &gt;outfile            # GNU tr version 1.22 or higher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # delete leading whitespace (spaces, tabs) from front of each line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # aligns all text flush left</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{sub(/^[ \t]+/, &quot;&quot;)};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # delete trailing whitespace (spaces, tabs) from end of each line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{sub(/[ \t]+$/, &quot;&quot;)};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # delete BOTH leading and trailing whitespace from each line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{gsub(/^[ \t]+|[ \t]+$/,&quot;&quot;)};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{$1=$1};1&#x27;           # also removes extra space between fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # insert 5 blank spaces at beginning of each line (make page offset)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{sub(/^/, &quot;     &quot;)};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # align all text flush right on a 79-column width</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{printf &quot;%79s\n&quot;, $0}&#x27; file*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # center all text on a 79-character width</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{l=length();s=int((79-l)/2); printf &quot;%&quot;(s+l)&quot;s\n&quot;,$0}&#x27; file*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # substitute (find and replace) &quot;foo&quot; with &quot;bar&quot; on each line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{sub(/foo/,&quot;bar&quot;)}; 1&#x27;           # replace only 1st instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> gawk &#x27;{$0=gensub(/foo/,&quot;bar&quot;,4)}; 1&#x27;  # replace only 4th instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{gsub(/foo/,&quot;bar&quot;)}; 1&#x27;          # replace ALL instances in a line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # substitute &quot;foo&quot; with &quot;bar&quot; ONLY for lines which contain &quot;baz&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/baz/{gsub(/foo/, &quot;bar&quot;)}; 1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # substitute &quot;foo&quot; with &quot;bar&quot; EXCEPT for lines which contain &quot;baz&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;!/baz/{gsub(/foo/, &quot;bar&quot;)}; 1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # change &quot;scarlet&quot; or &quot;ruby&quot; or &quot;puce&quot; to &quot;red&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{gsub(/scarlet|ruby|puce/, &quot;red&quot;)}; 1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # reverse order of lines (emulates &quot;tac&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{a[i++]=$0} END {for (j=i-1; j&gt;=0;) print a[j--] }&#x27; file*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # if a line ends with a backslash, append the next line to it (fails if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # there are multiple lines ending with backslash...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/\\$/ {sub(/\\$/,&quot;&quot;); getline t; print $0 t; next}; 1&#x27; file*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print and sort the login names of all users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk -F &quot;:&quot; &#x27;{print $1 | &quot;sort&quot; }&#x27; /etc/passwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the first 2 fields, in opposite order, of every line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{print $2, $1}&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # switch the first 2 fields of every line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{temp = $1; $1 = $2; $2 = temp}&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print every line, deleting the second field of that line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{ $2 = &quot;&quot;; print }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print in reverse order the fields of every line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{for (i=NF; i&gt;0; i--) printf(&quot;%s &quot;,$i);print &quot;&quot;}&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # concatenate every 5 lines of input, using a comma separator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # between fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;ORS=NR%5?&quot;,&quot;:&quot;\n&quot;&#x27; file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="selective-printing-of-certain-lines">Selective Printing of Certain Lines<a href="#selective-printing-of-certain-lines" class="hash-link" aria-label="Direct link to Selective Printing of Certain Lines" title="Direct link to Selective Printing of Certain Lines">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # print first 10 lines of file (emulates behavior of &quot;head&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NR &lt; 11&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print first line of file (emulates &quot;head -1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NR&gt;1{exit};1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # print the last 2 lines of a file (emulates &quot;tail -2&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;{y=x &quot;\n&quot; $0; x=$0};END{print y}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the last line of a file (emulates &quot;tail -1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;END{print}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print only lines which match regular expression (emulates &quot;grep&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/regex/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print only lines which do NOT match regex (emulates &quot;grep -v&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;!/regex/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print any line where field #5 is equal to &quot;abc123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;$5 == &quot;abc123&quot;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print only those lines where field #5 is NOT equal to &quot;abc123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # This will also print lines which have less than 5 fields.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;$5 != &quot;abc123&quot;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;!($5 == &quot;abc123&quot;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # matching a field against a regular expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;$7  ~ /^[a-f]/&#x27;    # print line if field #7 matches regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;$7 !~ /^[a-f]/&#x27;    # print line if field #7 does NOT match regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the line immediately before a regex, but not the line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # containing the regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/regex/{print x};{x=$0}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/regex/{print (NR==1 ? &quot;match on line 1&quot; : x)};{x=$0}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print the line immediately after a regex, but not the line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # containing the regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/regex/{getline;print}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # grep for AAA and BBB and CCC (in any order on the same line)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/AAA/ &amp;&amp; /BBB/ &amp;&amp; /CCC/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # grep for AAA and BBB and CCC (in that order)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/AAA.*BBB.*CCC/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print only lines of 65 characters or longer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;length &gt; 64&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print only lines of less than 65 characters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;length &lt; 64&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print section of file from regular expression to end of file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/regex/,0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/regex/,EOF&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print section of file based on line numbers (lines 8-12, inclusive)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NR==8,NR==12&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print line number 52</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NR==52&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;NR==52 {print;exit}&#x27;          # more efficient on large files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # print section of file between two regular expressions (inclusive)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/Iowa/,/Montana/&#x27;             # case sensitive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="selective-deletion-of-certain-lines">Selective Deletion of Certain Lines<a href="#selective-deletion-of-certain-lines" class="hash-link" aria-label="Direct link to Selective Deletion of Certain Lines" title="Direct link to Selective Deletion of Certain Lines">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # delete ALL blank lines from a file (same as &quot;grep &#x27;.&#x27; &quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk NF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;/./&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # remove duplicate, consecutive lines (emulates &quot;uniq&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;a !~ $0; {a=$0}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # remove duplicate, nonconsecutive lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;!a[$0]++&#x27;                     # most concise script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> awk &#x27;!($0 in a){a[$0];print}&#x27;      # most efficient script</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/grep">grep</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/awk">awk</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/linux">linux</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-29T10:37:26.000Z">Jan 29, 2024</time></b> by <b>AshutoshPatole18</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/linux-intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fg-and-bg"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Foreground and Background jobs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#unixlinux" class="table-of-contents__link toc-highlight">Unix/Linux</a></li><li><a href="#win" class="table-of-contents__link toc-highlight">Win</a></li></ul></li><li><a href="#handy-one-line-awk-scripts" class="table-of-contents__link toc-highlight">Handy one-line Awk scripts</a><ul><li><a href="#file-spacing" class="table-of-contents__link toc-highlight">File Spacing</a></li><li><a href="#numbering-and-calculations" class="table-of-contents__link toc-highlight">Numbering and Calculations</a></li><li><a href="#string-creation" class="table-of-contents__link toc-highlight">String Creation</a></li><li><a href="#array-creation" class="table-of-contents__link toc-highlight">Array Creation</a></li><li><a href="#text-conversion-and-substitution" class="table-of-contents__link toc-highlight">Text Conversion and Substitution</a></li><li><a href="#selective-printing-of-certain-lines" class="table-of-contents__link toc-highlight">Selective Printing of Certain Lines</a></li><li><a href="#selective-deletion-of-certain-lines" class="table-of-contents__link toc-highlight">Selective Deletion of Certain Lines</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>